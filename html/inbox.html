<ul class="inbox">



  <!--
  <li class="negotiation unread">
    <i class="fa fa-money"></i>
    <h3>Counter-Offer Received</h3>
    <p>Bob's Bait &amp; Tackle Emporium</p>
    <p class="date">4 hours ago</p>
  </li>
  <li class="change-order unread">
    <i class="fa fa-exchange"></i>
    <h3>Change Order Request</h3>
    <p>Nike</p>
    <p class="date">8 hours ago</p>
  </li>
  <li class="under-serving unread">
    <i class="fa fa-heartbeat"></i>
    <h3>Under-Serving</h3>
    <p>K-Mart</p>
    <p class="date">9 hours ago</p>
  </li>

  <li class="under-serving">
    <i class="fa fa-heartbeat"></i>
    <h3>Under-Serving</h3>
    <p>K-Mart</p>
    <p class="date">1 day ago</p>
  </li>
  <li class="under-serving">
    <i class="fa fa-heartbeat"></i>
    <h3>Under-Serving</h3>
    <p>K-Mart</p>
    <p class="date">1 day ago</p>
  </li>
  -->
</ul>

<script>
  var inboxData = [
    {
      type: 'under-serving',
      unread: true,
      name: 'K-Mart',
      date: '30 seconds ago'
    },
    {
      type: 'under-serving',
      unread: true,
      name: 'K-Mart',
      date: '30 seconds ago'
    }
  ];

  function inboxTemplate(item) {
    var rv = "";
    var icon = '';
    var heading = '';
    switch (item.type) {
      case 'under-serving':
        icon = 'heartbeat';
        heading = "Campaign Under-Serving";
      break;
      case 'counter-offer':
        icon = 'money';
        heading = "Counter-Offer Received";
      break;
    }
    rv += "<li class=\""+item.type+" "+(item.unread?'unread':'')+"\">";
    rv += "  <i class=\"fa fa-"+icon+"\"></i>";
    rv += "  <h3>"+heading+"</h3>";
    rv += "  <p>"+item.name+"</p>";
    rv += "  <p class=\"date\">"+item.date+"</p>";
    rv += "</li>";
    return rv;
  };

  function processTemplate(templateFunction, data) {
    var rv = '';
    for (var x=0; x<data.length; x++) {
      rv += templateFunction(data[x]);
    }
    return rv;
  };

  $('.inbox').html(processTemplate(inboxTemplate, inboxData));
</script>